<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تسجيل الدخول</title>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-auth.js";
        
        // تهيئة Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyDEUESGyUZBJTodObSbBlL5QoSDsIA6p8Q",
            authDomain: "views-6863d.firebaseapp.com",
            projectId: "views-6863d",
            storageBucket: "views-6863d.firebasestorage.app",
            messagingSenderId: "707784888271",
            appId: "1:707784888271:web:4b9630797c8115c54bccba"
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        window.register = function() {
            let email = document.getElementById("email").value;
            let password = document.getElementById("password").value;
            createUserWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    alert("تم التسجيل بنجاح!");
                })
                .catch((error) => {
                    alert(error.message);
                });
        }

        window.login = function() {
            let email = document.getElementById("email").value;
            let password = document.getElementById("password").value;
            signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                    alert("تم تسجيل الدخول بنجاح!");
                })
                .catch((error) => {
                    alert(error.message);
                });
        }

        window.loginWithGoogle = function() {
            signInWithPopup(auth, provider)
                .then((result) => {
                    alert("تم تسجيل الدخول باستخدام Google بنجاح!");
                })
                .catch((error) => {
                    alert(error.message);
                });
        }
    </script>
</head>
<body>
    <h2>تسجيل الدخول / إنشاء حساب</h2>
    <input type="email" id="email" placeholder="أدخل البريد الإلكتروني"><br>
    <input type="password" id="password" placeholder="أدخل كلمة المرور"><br>
    <button onclick="register()">تسجيل جديد</button>
    <button onclick="login()">تسجيل الدخول</button>
    <button onclick="loginWithGoogle()">تسجيل الدخول باستخدام Google</button>
</body>
</html>
